{% extends "base.html" %}
{% block title %}Add League{% endblock %}
{% block content %}
<a href="{{ url_for('leagues') }}" class="back-link">&larr; Back to leagues</a>

<div class="page-header">
    <h2>Add League</h2>
    <p class="subtitle">Enter your ESPN Fantasy Football league credentials</p>
</div>

<div class="card" style="max-width: 500px;">
    <div style="padding: 1.5rem;">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="flash flash-{{ category }}">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <form method="POST">
            <div class="form-group">
                <label for="name">League Name</label>
                <input type="text" id="name" name="name" placeholder="e.g., My Fantasy League 2024" required>
            </div>
            <div class="form-group">
                <label for="espn_league_id">ESPN League ID</label>
                <input type="number" id="espn_league_id" name="espn_league_id" required>
            </div>
            <div class="form-group">
                <label for="espn_year">Year</label>
                <input type="number" id="espn_year" name="espn_year" value="2024" required>
            </div>
            <div class="form-group">
                <label for="espn_s2">ESPN S2 Cookie</label>
                <input type="text" id="espn_s2" name="espn_s2" required>
            </div>
            <div class="form-group">
                <label for="espn_swid">ESPN SWID Cookie</label>
                <input type="text" id="espn_swid" name="espn_swid" placeholder="{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}" required>
            </div>
            <button type="submit" class="btn">Add League</button>
        </form>
    </div>
</div>
{% endblock %}
